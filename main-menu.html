<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WaveX - Main Menu</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <canvas id="bgCanvas"></canvas>
    <div id="app">
        <header id="topBar">
            <div class="logo">WaveX</div>
            <div class="spacer"></div>
            <div id="userBadge">
                <img id="userAvatar" alt="avatar" />
                <div id="userInfo">
                    <div id="userName">Guest</div>
                    <div id="userLevel">Lv. 1</div>
                </div>
            </div>
        </header>

        <main id="screens">
            <!-- Main Menu -->
            <section id="screen-main" class="screen active">
                <div class="menu">
                    <button class="btn primary large" onclick="window.location.href='song-select.html'">üéµ Play</button>
                    <button class="btn" onclick="window.location.href='editor.html'">‚úèÔ∏è Editor</button>
                    <button class="btn" onclick="window.location.href='profile.html'">üë§ Profile</button>
                    <button class="btn" onclick="window.location.href='options.html'">‚öôÔ∏è Options</button>
                    <button class="btn admin-btn" onclick="showAdminLogin()">üîê Admin Panel</button>
                    <button class="btn test-btn" onclick="testFileAccess()">üß™ Test Files</button>
                </div>

                <div class="card" style="margin:16px auto; width:min(860px,95vw)">
<pre style="white-space:pre-wrap; margin:0; font-size:12px; color:#93a0c7">JSON Chart Structure Example:
{
  "id": "unique-id",
  "title": "Song Name",
  "artist": "Artist",
  "mp3": "https://example.com/song.mp3"  // or "data:audio/mpeg;base64,...",
  "offset": 0,
  "difficulty": "Normal",
  "notes": [
    { "time": 1.54, "lane": 1 },
    { "time": 2.13, "lane": 2 },
    { "time": 2.47, "lane": 3 },
    { "time": 2.80, "lane": 4 }
  ]
}
</pre>
                </div>
            </section>
        </main>
    </div>

    <!-- Admin Panel Modal -->
    <div id="adminModal" class="modal hidden">
        <div class="modal-content admin-modal">
            <!-- Admin Login -->
            <div id="adminLogin">
                <div class="admin-header">
                    <h2>üîê Admin Panel</h2>
                    <button class="close-btn" onclick="hideAdminPanel()">&times;</button>
                </div>
                <div class="admin-section">
                    <h3>Enter Admin Password</h3>
                    <input type="password" id="adminPassword" placeholder="Enter password" />
                    <div id="adminError" class="error-message hidden"></div>
                    <button class="btn primary" onclick="adminLogin()">Login</button>
                </div>
            </div>

            <!-- Admin Dashboard -->
            <div id="adminDashboard" class="hidden">
                <div class="admin-header">
                    <h2>‚öôÔ∏è Admin Dashboard</h2>
                    <button class="close-btn" onclick="hideAdminPanel()">&times;</button>
                </div>
                <div class="admin-section">
                    <h3>Uploaded Songs</h3>
                    <div class="admin-toolbar">
                        <input type="text" id="adminSearch" placeholder="Search songs..." />
                        <button class="btn" onclick="refreshAdminSongs()">Refresh</button>
                    </div>
                    <div id="adminSongsList" class="admin-songs-list">
                        <div class="loading">Loading songs...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
